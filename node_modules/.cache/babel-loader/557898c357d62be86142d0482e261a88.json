{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction applyOption(string, props, option) {\n  // conditional\n  if (typeof option === \"function\") {\n    return option(string, props);\n  } // all\n  else {\n    return option;\n  }\n}\n\nfunction transform(input, options) {\n  var protocol = \"\";\n  var truncation = Infinity;\n  var attributes = {};\n  var truncateFromTheMiddle = false; // special transformation\n\n  if (options && options.specialTransform) {\n    for (var index = 0; index < options.specialTransform.length; index++) {\n      var transformer = options.specialTransform[index];\n\n      if (transformer.test.test(input.string)) {\n        return transformer.transform(input.string, input);\n      }\n    }\n  } // exclude\n\n\n  if (options && options.exclude) {\n    if (applyOption(input.string, input, options.exclude)) return input.string;\n  } // protocol\n\n\n  if (options && options.protocol) {\n    protocol = applyOption(input.string, input, options.protocol);\n  }\n\n  if (input.protocol) {\n    protocol = \"\";\n  } else if (!protocol) {\n    protocol = input.isEmail ? \"mailto:\" : input.isFile ? \"file:///\" : \"http://\";\n  } // truncation\n\n\n  if (options && options.truncate) {\n    truncation = applyOption(input.string, input, options.truncate);\n  }\n\n  if (options && options.middleTruncation) {\n    truncateFromTheMiddle = applyOption(input.string, input, options.middleTruncation);\n  } // attributes\n\n\n  if (options && options.attributes) {\n    attributes = applyOption(input.string, input, options.attributes);\n  }\n\n  return \"<a \" + Object.keys(attributes).map(function (key) {\n    return attributes[key] === true ? key : key + \"=\\\"\" + attributes[key] + \"\\\" \";\n  }).join(\" \") + \"href=\\\"\" + protocol + input.string + \"\\\">\" + (input.string.length > truncation ? truncateFromTheMiddle ? input.string.substring(0, Math.floor(truncation / 2)) + \"…\" + input.string.substring(input.string.length - Math.ceil(truncation / 2), input.string.length) : input.string.substring(0, truncation) + \"…\" : input.string) + \"</a>\";\n}\n\nexports.transform = transform;","map":{"version":3,"names":["Object","defineProperty","exports","value","applyOption","string","props","option","transform","input","options","protocol","truncation","Infinity","attributes","truncateFromTheMiddle","specialTransform","index","length","transformer","test","exclude","isEmail","isFile","truncate","middleTruncation","keys","map","key","join","substring","Math","floor","ceil"],"sources":["C:/Users/sandy/Downloads/build-twitter-with-react/build-twitter-with-react/node_modules/anchorme/dist/node/transform.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction applyOption(string, props, option) {\n    // conditional\n    if (typeof option === \"function\") {\n        return option(string, props);\n    }\n    // all\n    else {\n        return option;\n    }\n}\nfunction transform(input, options) {\n    var protocol = \"\";\n    var truncation = Infinity;\n    var attributes = {};\n    var truncateFromTheMiddle = false;\n    // special transformation\n    if (options && options.specialTransform) {\n        for (var index = 0; index < options.specialTransform.length; index++) {\n            var transformer = options.specialTransform[index];\n            if (transformer.test.test(input.string)) {\n                return transformer.transform(input.string, input);\n            }\n        }\n    }\n    // exclude\n    if (options && options.exclude) {\n        if (applyOption(input.string, input, options.exclude))\n            return input.string;\n    }\n    // protocol\n    if (options && options.protocol) {\n        protocol = applyOption(input.string, input, options.protocol);\n    }\n    if (input.protocol) {\n        protocol = \"\";\n    }\n    else if (!protocol) {\n        protocol = input.isEmail\n            ? \"mailto:\"\n            : input.isFile\n                ? \"file:///\"\n                : \"http://\";\n    }\n    // truncation\n    if (options && options.truncate) {\n        truncation = applyOption(input.string, input, options.truncate);\n    }\n    if (options && options.middleTruncation) {\n        truncateFromTheMiddle = applyOption(input.string, input, options.middleTruncation);\n    }\n    // attributes\n    if (options && options.attributes) {\n        attributes = applyOption(input.string, input, options.attributes);\n    }\n    return \"<a \" + Object.keys(attributes)\n        .map(function (key) {\n        return attributes[key] === true ? key : key + \"=\\\"\" + attributes[key] + \"\\\" \";\n    })\n        .join(\" \") + \"href=\\\"\" + protocol + input.string + \"\\\">\" + (input.string.length > truncation\n        ? truncateFromTheMiddle\n            ? input.string.substring(0, Math.floor(truncation / 2)) +\n                \"…\" +\n                input.string.substring(input.string.length - Math.ceil(truncation / 2), input.string.length)\n            : input.string.substring(0, truncation) + \"…\"\n        : input.string) + \"</a>\";\n}\nexports.transform = transform;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}