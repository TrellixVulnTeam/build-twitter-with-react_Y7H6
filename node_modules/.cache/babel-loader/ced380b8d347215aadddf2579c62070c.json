{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sandy\\\\Downloads\\\\build-twitter-with-react\\\\build-twitter-with-react\\\\src\\\\components\\\\WithUrls.js\";\nimport React from \"react\";\nimport { unescape } from \"html-escaper\";\nimport anchorme from \"anchorme\";\nimport DOMPurify from \"dompurify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function WithUrls(_ref) {\n  let {\n    children\n  } = _ref;\n\n  if (!children || !children.toString) {\n    return null;\n  }\n\n  let text = children.toString();\n  text = DOMPurify.sanitize(unescape(text), {\n    ALLOWED_TAGS: [\"b\"]\n  });\n  text = anchorme({\n    input: text,\n    options: {\n      attributes: {\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        class: \"text-wrap break-all\"\n      },\n      truncate: 50\n    },\n    extensions: [{\n      test: /#(\\w|_)+/gi,\n      transform: string => `<a class=\"high-index\" href=\"/search?q=${encodeURIComponent(string)}\"> ${string} </a>`\n    }, {\n      test: /@(\\w|_)+/gi,\n      transform: string => `<a class=\"high-index\" href=\"/user/${string.slice(1)}\">${string}</a>`\n    }]\n  });\n\n  if (DOMPurify.sanitize(text, {\n    ALLOWED_TAGS: []\n  }).trim() === \"\") {\n    text = \"null\";\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mw-100 overflow-hidden\",\n      dangerouslySetInnerHTML: {\n        __html: text\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_c = WithUrls;\n\nvar _c;\n\n$RefreshReg$(_c, \"WithUrls\");","map":{"version":3,"names":["React","unescape","anchorme","DOMPurify","WithUrls","children","toString","text","sanitize","ALLOWED_TAGS","input","options","attributes","target","rel","class","truncate","extensions","test","transform","string","encodeURIComponent","slice","trim","__html"],"sources":["C:/Users/sandy/Downloads/build-twitter-with-react/build-twitter-with-react/src/components/WithUrls.js"],"sourcesContent":["import React from \"react\";\nimport { unescape } from \"html-escaper\";\nimport anchorme from \"anchorme\";\nimport DOMPurify from \"dompurify\";\n\nexport default function WithUrls({ children }) {\n  if (!children || !children.toString) {\n    return null;\n  }\n\n  let text = children.toString();\n  text = DOMPurify.sanitize(unescape(text), { ALLOWED_TAGS: [\"b\"] });\n\n  text = anchorme({\n    input: text,\n    options: {\n      attributes: {\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        class: \"text-wrap break-all\",\n      },\n      truncate: 50,\n    },\n\n    extensions: [\n      {\n        test: /#(\\w|_)+/gi,\n        transform: (string) =>\n          `<a class=\"high-index\" href=\"/search?q=${encodeURIComponent(\n            string\n          )}\"> ${string} </a>`,\n      },\n      {\n        test: /@(\\w|_)+/gi,\n        transform: (string) =>\n          `<a class=\"high-index\" href=\"/user/${string.slice(1)}\">${string}</a>`,\n      },\n    ],\n  });\n\n  if (DOMPurify.sanitize(text, { ALLOWED_TAGS: [] }).trim() === \"\") {\n    text = \"null\";\n  }\n\n  return (\n    <>\n      <div\n        className=\"mw-100 overflow-hidden\"\n        dangerouslySetInnerHTML={{ __html: text }}\n      />\n    </>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,SAAP,MAAsB,WAAtB;;;AAEA,eAAe,SAASC,QAAT,OAAgC;EAAA,IAAd;IAAEC;EAAF,CAAc;;EAC7C,IAAI,CAACA,QAAD,IAAa,CAACA,QAAQ,CAACC,QAA3B,EAAqC;IACnC,OAAO,IAAP;EACD;;EAED,IAAIC,IAAI,GAAGF,QAAQ,CAACC,QAAT,EAAX;EACAC,IAAI,GAAGJ,SAAS,CAACK,QAAV,CAAmBP,QAAQ,CAACM,IAAD,CAA3B,EAAmC;IAAEE,YAAY,EAAE,CAAC,GAAD;EAAhB,CAAnC,CAAP;EAEAF,IAAI,GAAGL,QAAQ,CAAC;IACdQ,KAAK,EAAEH,IADO;IAEdI,OAAO,EAAE;MACPC,UAAU,EAAE;QACVC,MAAM,EAAE,QADE;QAEVC,GAAG,EAAE,qBAFK;QAGVC,KAAK,EAAE;MAHG,CADL;MAMPC,QAAQ,EAAE;IANH,CAFK;IAWdC,UAAU,EAAE,CACV;MACEC,IAAI,EAAE,YADR;MAEEC,SAAS,EAAGC,MAAD,IACR,yCAAwCC,kBAAkB,CACzDD,MADyD,CAEzD,MAAKA,MAAO;IALlB,CADU,EAQV;MACEF,IAAI,EAAE,YADR;MAEEC,SAAS,EAAGC,MAAD,IACR,qCAAoCA,MAAM,CAACE,KAAP,CAAa,CAAb,CAAgB,KAAIF,MAAO;IAHpE,CARU;EAXE,CAAD,CAAf;;EA2BA,IAAIjB,SAAS,CAACK,QAAV,CAAmBD,IAAnB,EAAyB;IAAEE,YAAY,EAAE;EAAhB,CAAzB,EAA+Cc,IAA/C,OAA0D,EAA9D,EAAkE;IAChEhB,IAAI,GAAG,MAAP;EACD;;EAED,oBACE;IAAA,uBACE;MACE,SAAS,EAAC,wBADZ;MAEE,uBAAuB,EAAE;QAAEiB,MAAM,EAAEjB;MAAV;IAF3B;MAAA;MAAA;MAAA;IAAA;EADF,iBADF;AAQD;KA/CuBH,Q"},"metadata":{},"sourceType":"module"}